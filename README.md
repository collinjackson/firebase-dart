[![Build Status](https://travis-ci.org/firebase/firebase-dart.svg?branch=master)](https://travis-ci.org/firebase/firebase-dart)

A Dart wrapper for [Firebase](https://www.firebase.com).

This package contains two implementations of the same ```Firebase``` Dart API:
* The ```JsFirebase``` implementation uses `dart:js` to wrap functionality provided by `firebase.js`
in Dart classes. You'll need this implementation to build Firebase apps for the web.
* The ```MojoFirebase``` implementation uses [Mojo](https://github.com/domokit/mojo) to wrap functionality provided by Firebase iOS and Android SDKs. You'll need this implementation to build Firebase apps with [Flutter](http:/flutter.io).

Right now the ```MojoFirebase``` implementation is default, but you can change this in lib/src/firebase.dart. Once [dart-lang/sdk#24581](https://github.com/dart-lang/sdk/issues/24581) is fixed you'll get the right implementation automatically.

#### Installing

Follow the instructions on the [pub page](http://pub.dartlang.org/packages/firebase#installing).

#### Using Firebase on the web

**The firebase.js library MUST be included for the JavaScript wrapper to work**:

```html
<script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
```
#### Using Firebase with Flutter

Flutter Firebase supports a subset of the [Dart Firebase API](https://www.dartdocs.org/documentation/firebase/latest/firebase/firebase-library.html). The following methods are currently supported:

    abstract class Firebase extends Query {
      Future authWithCustomToken(String token);
      Future authAnonymously({remember: 'default'});
      Future authWithPassword(Map credentials);
      Future authWithOAuthPopup(provider, {remember: 'default', scope: ''});
      Future authWithOAuthRedirect(provider, {remember: 'default', scope: ''});
      Future authWithOAuthToken(provider, credentials, {remember: 'default', scope: ''});
      void unauth();
      Firebase child(String path);
      Firebase parent();
      Firebase root();
      String get key;  // Wait for onComplete before using this on autogenerated children
      String toString();
      Future set(value);
      Future update(Map<String, dynamic> value);
      Future remove();
      Firebase push({value, onComplete});
      Future setWithPriority(value, int priority);
      Future setPriority(int priority);
      Future createUser(Map credentials);
      Future changeEmail(Map credentials);
      Future changePassword(Map credentials);
      Future removeUser(Map credentials);
      Future resetPassword(Map credentials);
    }
    
    abstract class Query {
      Stream<Event> get onValue;
      Stream<Event> get onChildAdded;
      Stream<Event> get onChildMoved;
      Stream<Event> get onChildChanged;
      Stream<Event> get onChildRemoved;
      Future<DataSnapshot> once(String eventType);
    }
    
    abstract class DataSnapshot {
      dynamic val();
      String get key;
    }
